<table class="table bg-light" id="dataPegawaiTable">
    <thead class="thead-light">
        <tr>
            <th>
                <input type="checkbox" id="boxAll" onchange="allCheckboxes()">
            </th>
            <th>
                <b>Kode Pegawai</b>
            </th>
            <th>
                <b>Jabatan</b>
            </th>
            <th>
                <b>Jumlah Gaji</b>
            </th>
            <th>
                <b>Lama Bekerja</b>
            </th>
            <th>
                <b>Nama Depan</b>
            </th>
            <th>
                <b>Nama Belakang</b>
            </th>
            <th>
                
            </th>
            <th class="text-right">
                <!-- <button class="btn  btn-info" data-toggle="modal" data-target="#tambahPegawai">tambah</button> -->
                <!-- Modal Tambah -->
                <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="tambahModal" aria-hidden="true" id="tambahPegawai">
                    <div class="modal-dialog modal-xl" role="document">
                        <div class="modal-content lihat-modal">
                            <h4 class="text-center">
                                <b>
                                    Tambah Data Pegawai
                                </b>
                            </h4>
                            <form action="/admin-tpu/tambah-data-pegawai" method="post">
                            <p class="text-center">
                                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Impedit, facilis sunt, fugiat corrupti suscipit rerum dolorem nihil in nemo quam praesentium voluptas exercitationem quis a dignissimos laudantium, natus fugit consequuntur!
                            </p>
                            <div class="row mx-4">
                                <div class="col text-left title-modal-color">
                                    Jabatan
                                </div>
                                <div class="col text-left title-modal-color">
                                    Golongan
                                </div>
                                <div class="col text-left title-modal-color">
                                    Kota/Kabupaten
                                </div>
                            </div>
                            <div class="row mx-4 mb-3">
                                <div class="col text-left">
                                    <select name="tambahJabatan" class="form-control" id="" required>
                                        <% listJabatan.forEach(jabatan => { %>
                                            <option value="<%= jabatan.kd_jabatan %>"><%= jabatan.nama_jabatan %></option>
                                        <% }) %> 
                                    </select>
                                </div>
                                <div class="col text-left">
                                    <select id="tambahGolongan" name="tambahGolongan" class="form-control" onchange="defineGaji('')" required>
                                        <!-- LIST GOLONGAN -->
                                        <option value="1A">IA</option>
                                        <option value="1B">IB</option>
                                        <option value="1C">IC</option>
                                        <option value="1D">ID</option>
                                        <option value="2A">IIA</option>
                                        <option value="2B">IIB</option>
                                        <option value="2C">IIC</option>
                                        <option value="2D">IID</option>
                                        <option value="3A">IIIA</option>
                                        <option value="3B">IIIB</option>
                                        <option value="3C">IIIC</option>
                                        <option value="3D">IIID</option>
                                        <option value="4A">IVA</option>
                                        <option value="4B">IVB</option>
                                        <option value="4C">IVC</option>
                                        <option value="4D">IVD</option>
                                        <option value="4E">IVE</option>
                                    </select>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahKotaKabupaten" required>
                                </div>
                            </div>
                            <div class="row mx-4">
                                <div class="col text-left title-modal-color">
                                    Jumlah Gaji
                                </div>
                                <div class="col text-left title-modal-color">
                                    Tunjangan
                                </div>
                                <div class="col text-left title-modal-color">
                                    Provinsi
                                </div>
                            </div>
                            <div class="row mx-4 mb-3">
                                <div class="col text-left">
                                    <input type="hidden" name="tambahJumlahGaji" id="tambahJumlahGaji" value="1.560.800">
                                    <span class="form-control" name="showGaji" id="showGaji">1.560.800</span>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahTunjangan" required>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahProvinsi" required>
                                </div>
                            </div>
                            <div class="row mx-4">
                                <div class="col text-left title-modal-color">
                                    Mulai Bekerja
                                </div>
                                <div class="col text-left title-modal-color">
                                    Alamat
                                </div>
                                <div class="col text-left title-modal-color">
                                    Telepon
                                </div>
                            </div>
                            <div class="row mx-4 mb-3">
                                <div class="col text-left">
                                    <input type="date" class="form-control" name="tambahMulaiBekerja" required>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahAlamat" required>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahTelepon" required>
                                </div>
                            </div>
                            <div class="row mx-4">
                                <div class="col text-left title-modal-color">
                                    Nama Depan
                                </div>
                                <div class="col text-left title-modal-color">
                                    Kelurahan
                                </div>
                                <div class="col text-left title-modal-color">
                                    Jenis Kelamin
                                </div>
                            </div>
                            <div class="row mx-4 mb-3">
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahNamaDepan" required>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahKelurahan" required>
                                </div>
                                <div class="col text-left">
                                    <select class="form-control" name="tambahJenisKelamin" id="">
                                        <option value="pria">Pria</option>
                                        <option value="wanita">Wanita</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mx-4">
                                <div class="col text-left title-modal-color">
                                    Nama Belakang
                                </div>
                                <div class="col text-left title-modal-color">
                                    Kecamatan
                                </div>
                                <div class="col text-left title-modal-color">
                                    Email
                                </div>
                            </div>
                            <div class="row mx-4 mb-3">
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahNamaBelakang" required>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahKecamatan" required>
                                </div>
                                <div class="col text-left">
                                    <input type="email" class="form-control" name="tambahEmail" required>
                                </div>
                            </div>
                            <div class="row mx-4">
                                <div class="col text-left title-modal-color">
                                    Kode Pos
                                </div>
                                <div class="col text-left title-modal-color">
                                    NIK
                                </div>
                                <div class="col text-left title-modal-color">
                                    
                                </div>
                            </div>
                            <div class="row mx-4 mb-3">
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahKodePos" required>
                                </div>
                                <div class="col text-left">
                                    <input type="text" class="form-control" name="tambahNik" required>
                                </div>
                                <div class="col text-left">
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col mr-3">
                                    <button class="btn btn-secondary mr-3" data-dismiss="modal">Batal</button>
                                    <button type="submit" class="btn btn-info">Tambah</button>
                                </div>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>
            </th>
        </tr>
    </thead>
    <!-- <tbody id="tpuValues">
    </tbody> -->
</table>
<div class="row  mx-auto justify-content-center">
    <div class="col text-center">
        <button class="btn menu-visited " onclick="toPage(currentPage - 1)"><</button>
        <span id="pageList"></span>
        <button class="btn menu-visited " onclick="toPage(currentPage + 1)">></button>
    </div>
</div>
<script>
    
    var dataPegawai = [];
    <% dataPegawai.forEach(pegawai => { %>
        var pegawaiObj = {};
        pegawaiObj.kdPegawai = '<%= pegawai.kd_pegawai %>';
        pegawaiObj.kdJabatan = '<%= pegawai.kd_jabatan %>';
        pegawaiObj.namaJabatan = '<%= pegawai.nama_jabatan %>';
        pegawaiObj.jumlahGaji = '<%= pegawai.jumlah_gaji %>';
        pegawaiObj.awalBekerja = '<%= pegawai.mulai_bekerja %>';
        pegawaiObj.lamaBekerjaTahun = '<%= pegawai.lama_bekerja.years %>'.trim().length > 0 ? '<%= pegawai.lama_bekerja.years %> tahun' : '0 tahun';
        pegawaiObj.lamaBekerjaBulan = '<%= pegawai.lama_bekerja.months %>'.trim().length > 0 ? ' <%= pegawai.lama_bekerja.months %> bulan' : ' 0 bulan';
        pegawaiObj.lamaBekerjaHari = '<%= pegawai.lama_bekerja.days %>'.trim().length > 0 ? ' <%= pegawai.lama_bekerja.days %> hari' : ' 0 hari';
        pegawaiObj.namaDepan = '<%= pegawai.nama_depan %>';
        pegawaiObj.namaBelakang = '<%= pegawai.nama_belakang %>';
        pegawaiObj.golongan = '<%= pegawai.golongan %>';
        pegawaiObj.tunjangan = '<%= pegawai.tunjangan %>';
        pegawaiObj.alamat = '<%= pegawai.alamat %>';
        pegawaiObj.kelurahan = '<%= pegawai.kelurahan %>';
        pegawaiObj.kecamatan = '<%= pegawai.kecamatan %>';
        pegawaiObj.kodePos = '<%= pegawai.kode_pos %>';
        pegawaiObj.kotaKabupaten = '<%= pegawai.kota_kabupaten %>';
        pegawaiObj.provinsi = '<%= pegawai.provinsi %>';
        pegawaiObj.noTelepon = '<%= pegawai.telepon %>';
        pegawaiObj.jenisKelamin = '<%= pegawai.jenis_kelamin %>';
        pegawaiObj.email = '<%= pegawai.email %>';
        pegawaiObj.nik = '<%= pegawai.nik %>';
        pegawaiObj.statusPegawai = '<%= pegawai.status_pegawai %>';
        dataPegawai.push(pegawaiObj);
    <% }) %>

    displayData('','');

    function flushTbody(table, minus) {
        if(table.tBodies) {
            var tbodiesLength = table.tBodies.length;
            if(minus == true) { tbodiesLength--; };
            console.log('length tb ', tbodiesLength);
            document.getElementById('pageList').innerHTML = '';
            for (countTbodies = 0; countTbodies < tbodiesLength; countTbodies++) {
                table.tBodies[countTbodies].remove();

            }
        }
    }
    

    // Adjusting display data, wether it search mode or main mode
    function displayData(displayMode, searchResult){
        // var getPosition = document.getElementById('tpuValues');
        var putData, emptyData;
        var contentPerPage = 10; // Set your content per page here
        var table = document.getElementById('dataPegawaiTable');
        var pageList = document.getElementById('pageList');

        // getPosition.innerHTML = '';
        if(displayMode == 'search') {
            putData = searchResult;
            console.log('masuk search');
            console.log('lengthnya ', putData.length);
            flushTbody(table, true);
            emptyData = `
                <h4 class="text-center text-secondary"> Data Tidak Ditemukan </h4>
            `;
        } else {
            putData = dataPegawai;
            emptyData = `
                <h4 class="text-center text-secondary">Belum Ada Data Saat Ini </h4>
            `;
        }

        // flush all tbodies || Coba letakkan flush sebelum count, jangan sebelum kondisi displaymode
        flushTbody(table, false);
        // Put data to page
        var count = 1;

        if(putData.length == 0) { // If theres no data
            var noDataTbody = document.createElement('tbody');
            noDataTbody.setAttribute('id', 'page1');
            noDataTbody.innerHTML = `
                <tr>
                    <td colspan="8">
                        <h4 class="text-center text-secondary"> Belum Ada Data Saat Ini </h4>
                    </td>
                </tr>
            `;
            table.appendChild(noDataTbody);
        }

        var contentLength = putData.length; // set your object length here
        var pageAmount = contentLength % contentPerPage == 0 ? (contentLength / contentPerPage) : (contentLength / contentPerPage) + 1;
        // Making layer pages
        console.log('page ', pageAmount);
        for(i = 1; i <= pageAmount; i++) {
            console.log('page ke', i);

            // Setup your style button here
            var tbody = document.createElement('tbody');
            var button = document.createElement('button');
            button.setAttribute('id', `btnPage${i}`);
            button.setAttribute('class', 'btn menu-visited btn-info');
            button.setAttribute('onclick', `toPage(${i})`);
            button.textContent = i;

            if(i < 2) {
                button.disabled = true;
            }
            pageList.appendChild(button);
            switch(i) {
                case 1 :
                    currentIndex = 0;
                    break;
                case 2 :
                    currentIndex = contentPerPage;
                    break;
                case i > 2 :
                    currentIndex = (i * contentPerPage) - 1;
                    break;
                default :
                    currentIndex = 0;
                    break;
            }
            console.log('currentnya ', currentIndex);
            tbody.setAttribute('id', `page${i}`);
            if(i > 1) {
                tbody.setAttribute('hidden', '');
            }

            // for (count = 1; count <= contentPerPage; count++) {
            for (count = 1; count <= contentPerPage; count++) {
                var getIndex = currentIndex;
                if(!putData[getIndex]) { break; }; // when undefined or index is not exist then break the loop
                console.log(count, putData[getIndex]);

                // setup your tbody style
                tbody.innerHTML += rowsOfData(putData[getIndex]);
                // Apply into tbody
                // tbody.appendChild(tr);
                currentIndex++;
            }
            table.appendChild(tbody);
            currentPage = 1; // have to assign the current page
        }
    }

    // ToPage function is to make the other layer page visible while hid the current layer
    function toPage(setPage) {
        console.log(setPage);
        if(document.getElementById(`page${setPage}`)) {
            console.log('exist');
            var currentLayerPage = document.getElementById(`page${currentPage}`);
            var toLayerPage = document.getElementById(`page${setPage}`);
            var btnCurrentPage = document.getElementById(`btnPage${currentPage}`);
            var btnToPage = document.getElementById(`btnPage${setPage}`);
            currentLayerPage.setAttribute('hidden', ''); // hid current page
            toLayerPage.removeAttribute('hidden');
            btnCurrentPage.disabled = false;
            btnToPage.disabled = true;
            currentPage = setPage;
        }else {
            console.log('layer page not exist');
        }
    }

    // Define gender Modal Ubah
    function ubahGender(setKdPegawai, setGender) {
        if(setGender == true) {
            document.getElementById('ubahWanita' + setKdPegawai).selected = true;
        } else {
            document.getElementById('ubahPria' + setKdPegawai).selected = true;
        }
    }

    // Define gender Modal Lihat
    function gender(setKdPegawai, setGender) {
        if(setGender == true) {
            document.getElementById('wanita' + setKdPegawai).selected = true;
        } else {
            document.getElementById('pria' + setKdPegawai).selected = true;
        }
    }

    // Define status pegawai on Modal Ubah
    function ubahStatusPegawai(kdPegawai, setStatus) {
        if(setStatus == true) {
            document.getElementById('aktif' + kdPegawai).selected = true;
        } else {
            document.getElementById('nonAktif' + kdPegawai).selected = true;
        }
    }

    // Search from data local
    function searchData() {
        var keyword = document.getElementById('inputSearch').value;
        console.log('valuenya ' + keyword);
        var result = dataPegawai.filter(data => {
            var regex = RegExp(keyword.toLowerCase(), 'g');
            if(regex.test(data['namaDepan'].toLowerCase()) == true || regex.test(data['namaBelakang'].toLowerCase()) == true || regex.test(data['kdPegawai'].toLowerCase()) == true) {
                return data;
            }

        });
        console.log(result);
        displayData('search', result);
    }

    

    document.getElementById('dataPegawai').classList.add('menu-visited'); // On data TPU menu
    document.getElementById('search').removeAttribute('hidden'); // Search bar visible
    document.getElementById('actionBtn').removeAttribute('hidden'); // Action buttons visible

    var actionButtons = document.getElementById('actionBtn');
    // Applying link to print report / cetak button
    const cetakBtn = actionButtons.children[2];
    const linkCetak = document.createElement('a');
    linkCetak.setAttribute('href', '/admin-tpu/cetak-data-pegawai');
    linkCetak.appendChild(cetakBtn);
    actionButtons.insertBefore(linkCetak, document.getElementById('actionBtn').children[2]);
    // Applying link to add pegawai / tambah button
    const tambahBtn = actionButtons.children[0];
    tambahBtn.onclick = () => {$('#tambahPegawai').modal('show')};
    // Applying link to delete pegawai / hapus button
    const hapusBtn = actionButtons.children[3];
    hapusBtn.setAttribute('disabled', '');
    hapusBtn.setAttribute('onclick', 'removeData("/admin-tpu/hapus-data-pegawai")');
    // Applying link Modal Ubah into ubah button
    const ubahBtn = actionButtons.children[1];
    ubahBtn.setAttribute('disabled', '');
    
    
    function rowsOfData(pegawai) {
        return `
            <tr>
                <td><input type="checkbox" name="checkbox${pegawai.kdPegawai}" id="checkbox${pegawai.kdPegawai}" class="checkbox" onchange="isChecked('${pegawai.kdPegawai}', ${pegawai.kelamin}, ${pegawai.statusPegawai})"></td>
                <td>${pegawai.kdPegawai}</td>
                <td>${pegawai.namaJabatan}</td>
                <td>${pegawai.jumlahGaji}</td>
                <td>${pegawai.lamaBekerjaTahun}${pegawai.lamaBekerjaBulan}${pegawai.lamaBekerjaHari}</td>
                <td>${pegawai.namaDepan}</td>
                <td>${pegawai.namaBelakang}</td>
                <td class="text-right">
                    
                    <a href="#" class="no-underline">
                        <button class="btn menu-visited btn-info" data-toggle="modal" data-target="#lihat${pegawai.kdPegawai}">Lihat Selengkapnya</button>
                    </a>
                    <!-- Modal Lihat -->
                    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="lihatModal" aria-hidden="true" id="lihat${pegawai.kdPegawai}">
                        <div class="modal-dialog modal-xl" role="document">
                            <div class="modal-content lihat-modal">
                                <h4 class="text-center">
                                    <b>
                                        Data Pegawai
                                    </b>
                                </h4>
                                <p class="text-center">
                                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Impedit, facilis sunt, fugiat corrupti suscipit rerum dolorem nihil in nemo quam praesentium voluptas exercitationem quis a dignissimos laudantium, natus fugit consequuntur!
                                </p>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Kode Pegawai
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Golongan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kota/Kabupaten
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.kdPegawai}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.golongan}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.kotaKabupaten}
                                        <hr class="bg-info">
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Jabatan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Tunjangan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Provinsi
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.namaJabatan}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.tunjangan}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.provinsi}
                                        <hr class="bg-info">
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Jumlah Gaji
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Alamat
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Telepon
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.jumlahGaji}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.alamat}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.noTelepon}
                                        <hr class="bg-info">
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Mulai Bekerja
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kelurahan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Jenis Kelamin
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.awalBekerja}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.kelurahan}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${(pegawai.jenisKelamin == 'true' ? 'Wanita' : 'Pria')}
                                        <hr class="bg-info">
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Nama Depan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kecamatan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Email
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.namaDepan}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.kecamatan}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.email}
                                        <hr class="bg-info">
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Nama Belakang
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kode Pos
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        NIK
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.namaBelakang}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.kodePos}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                        ${pegawai.nik}
                                        <hr class="bg-info">
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Status Pegawai
                                    </div>
                                    <div class="col text-left title-modal-color">
                                    </div>
                                    <div class="col text-left title-modal-color">
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.statusPegawai == 'true' ? 'Aktif' : 'NonAktif'}
                                        <hr class="bg-info">
                                    </div>
                                    <div class="col text-left">
                                    </div>
                                    <div class="col text-left">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col text-right px-4">
                                        <button class="btn btn-secondary mx-4" data-dismiss="modal">Tutup</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- modal ubah --!>
                    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="ubahModal" aria-hidden="true" id="ubahPegawai${pegawai.kdPegawai}">
                        <div class="modal-dialog modal-xl" role="document">
                            <div class="modal-content lihat-modal">
                                <h4 class="text-center">
                                    <b>
                                        Ubah Data Pegawai
                                    </b>
                                </h4>
                                <form action="/admin-tpu/update-date-pegawai" method="post">
                                <input type="hidden" name="ubahKdPegawai" id="ubahKdPegawai" value="${pegawai.kdPegawai}">
                                <p class="text-center">
                                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Impedit, facilis sunt, fugiat corrupti suscipit rerum dolorem nihil in nemo quam praesentium voluptas exercitationem quis a dignissimos laudantium, natus fugit consequuntur!
                                </p>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Kode Pegawai
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Golongan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kota/Kabupaten
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        ${pegawai.kdPegawai}
                                    </div>
                                    <div class="col text-left">
                                        <select name="ubahGolongan" id="ubahGolongan${pegawai.kdPegawai}" class="form-control" id="" onchange="defineGaji('${pegawai.kdPegawai}')" required>
                                            <!-- LIST GOLONGAN -->
                                            <option value="${pegawai.golongan}" selected>${pegawai.golongan}</option>
                                            <option value="1A">IA</option>
                                            <option value="1B">IB</option>
                                            <option value="1C">IC</option>
                                            <option value="1D">ID</option>
                                            <option value="2A">IIA</option>
                                            <option value="2B">IIB</option>
                                            <option value="2C">IIC</option>
                                            <option value="2D">IID</option>
                                            <option value="3A">IIIA</option>
                                            <option value="3B">IIIB</option>
                                            <option value="3C">IIIC</option>
                                            <option value="3D">IIID</option>
                                            <option value="4A">IVA</option>
                                            <option value="4B">IVB</option>
                                            <option value="4C">IVC</option>
                                            <option value="4D">IVD</option>
                                            <option value="4E">IVE</option>
                                        </select>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahKotaKabupaten" value="${pegawai.kotaKabupaten}" required>
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Jabatan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Tunjangan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Provinsi
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        <select class="form-control" name="ubahJabatan">
                                            <option value="${pegawai.kdJabatan}" selected>${pegawai.namaJabatan}</option>
                                            <% listJabatan.forEach(jabatan => { %>
                                                <option value="<%= jabatan.kd_jabatan %>"><%= jabatan.nama_jabatan %></option>
                                            <% }) %> 
                                        </select>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahTunjangan" value="${pegawai.tunjangan}" required>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahProvinsi" value="${pegawai.provinsi}" required>
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Jumlah Gaji
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Alamat
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Telepon
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        <input type="hidden" class="form-control" name="ubahJumlahGaji" id="ubahJumlahGaji${pegawai.kdPegawai}" value="${pegawai.jumlahGaji}" >
                                        <span id="showUbahGaji${pegawai.kdPegawai}">${pegawai.jumlahGaji}</span>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahAlamat" value="${pegawai.alamat}" required>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahTelepon" value="${pegawai.noTelepon}" required>
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Awal Bekerja
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kelurahan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Jenis Kelamin
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        <input type="date" class="form-control" name="ubahMulaiBekerja" id="ubahMulaiBekerja" value="${pegawai.awalBekerja}">
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahKelurahan" value="${pegawai.kelurahan}" required>
                                    </div>
                                    <div class="col text-left">
                                        <select class="form-control" name="ubahJenisKelamin" id="ubahJenisKelamin">
                                            <option value="pria" id="ubahPria${pegawai.kdPegawai}">Pria</option>
                                            <option value="wanita" id="ubahWanita${pegawai.kdPegawai}">Wanita</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Nama Depan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kecamatan
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Email
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahNamaDepan" value="${pegawai.namaDepan}" required>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahKecamatan" value="${pegawai.kecamatan}" required>
                                    </div>
                                    <div class="col text-left">
                                        <input type="email" class="form-control" name="ubahEmail" value="${pegawai.email}" required>
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Nama Belakang
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        Kode Pos
                                    </div>
                                    <div class="col text-left title-modal-color">
                                        NIK
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahNamaBelakang" value="${pegawai.namaBelakang}" required>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahKodePos" value="${pegawai.kodePos}" required>
                                    </div>
                                    <div class="col text-left">
                                        <input type="text" class="form-control" name="ubahNik" value="${pegawai.nik}" required>
                                    </div>
                                </div>
                                <div class="row mx-4">
                                    <div class="col text-left title-modal-color">
                                        Status Pegawai
                                    </div>
                                    <div class="col text-left title-modal-color">
                                    </div>
                                    <div class="col text-left title-modal-color">
                                    </div>
                                </div>
                                <div class="row mx-4 mb-3">
                                    <div class="col text-left">
                                        <select class="form-control" id="statusPegawai${pegawai.kdPegawai}" name="ubahStatusPegawai">
                                            <option id="aktif${pegawai.kdPegawai}" value="true">Aktif</option>
                                            <option id="nonAktif${pegawai.kdPegawai}" value="false">NonAktif</option>
                                        </select>
                                    </div>
                                    <div class="col text-left">
                                    </div>
                                    <div class="col text-left">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col mr-3">
                                        <button class="btn btn-secondary mr-3" data-dismiss="modal">Batal</button>
                                        <button type="submit" class="btn btn-info">Ubah</button>
                                    </div>
                                </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    

                </td>
            </tr>
        `;
        count++;
    }
</script>